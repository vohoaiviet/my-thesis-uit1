\chapter{Các công trình liên quan}
\label{chapter:related}
\ifpdf
    \graphicspath{{Chapter2/Chapter2Figs/PNG/}{Chapter2/Chapter2Figs/PDF/}{Chapter2/Chapter2Figs/}}
\else
    \graphicspath{{Chapter2/Chapter2Figs/EPS/}{Chapter2/Chapter2Figs/}}
\fi

\markboth{\MakeUppercase{Chương \thechapter. Các công trình liên quan}}{Chương \thechapter. Các công trình liên quan}

Trong chương này chúng tôi sẽ trình bày một cách tổng quan về các phương pháp truy vấn đối tượng trên tập dữ liệu ảnh lớn đang được sử dụng rộng rãi hiện nay. Các phương pháp cần phải thỏa hai yêu cầu là cho kết quả với độ chính xác cao và trả về trong thời gian ngắn.

Trước tiên, chúng tôi sẽ trình bày tổng quan về các thành phần của một hệ thống truy vấn ảnh cơ bản trong mục \ref{section:overall}. Mục \ref{local-features} sẽ trình bày ngắn gọn về hướng tiếp cận biểu diễn hình ảnh bằng các đặc trưng cục bộ. Nhưng khi kích cỡ của tập dữ liệu tăng thì việc so khớp các đặc trưng cục bộ tỏ ra kém hiệu quả. Trong mục \ref{bag-of-words}, chúng tôi sẽ giới thiệu mô hình Bag-of-Words (BoW) -  được ứng dụng từ lĩnh vực xử lý văn bản. Mô hình này cho thấy tính hiệu quả của nó cả về tốc độ tính toán lẫn bộ nhớ sử dụng.

Mặc dù đạt được hiệu suất cao nhưng mô hình BoW vẫn bỏ qua thông tin về không gian ảnh - một thông tin quan trọng ảnh hướng lớn đến độ chính xác của truy vấn. Trong mục \ref{spatial}, chúng tôi sẽ trình bày rõ hơn về các hướng tiếp cận dựa để khai thác được thông tin không gian ảnh, tiêu biểu là hướng tiếp cận dựa trên đặc trưng hình học và thông tin không gian của các đặc trưng cục bộ.

\section{Mô hình tổng quan}
\label{section:overall}
Mô hình tổng quan của một hệ thống truy vấn cơ bản ảnh gồm ba thành phần chính:\\
\textbf{Rút trích, biểu diễn đặc trưng ảnh.} Từ một hình ảnh, hệ thống sẽ dò tìm và phát hiện được những điểm đặc trưng, sau đó các điểm này sẽ được mô tả để rút ra được một vector tương ứng với mỗi điểm. Từ các vector đó, ta sẽ xây dựng được một histogram biểu diễn cho hình ảnh đó.\\
\textbf{So khớp các hình ảnh.} Sau khi biểu diễn các hình ảnh dưới dạng các histogram, ta tiến hành so khớp các histogram của các hình trong cơ sở dữ liệu với của hình truy vấn để tìm được những hình ảnh có độ tương đồng cao nhất so với hình ảnh truy vấn. Các hình ảnh sẽ được xếp hạng dựa trên độ tương đồng này.\\
\textbf{Hậu xử lý kết quả.} Từ danh sách có thứ tự các hình ảnh có độ tương đồng cao nhất so với hình ảnh truy vấn, ta tiến hành xử lý tùy theo mục đích cụ thể của hệ thống hoặc có thể áp dụng thêm một thuật toán để re-ranking những hình ảnh trong top đầu nhằm tăng độ chính xác.

Mô hình tổng quan của một hệ thống truy vấn ảnh cơ bản được minh họa trong hình \ref{FigOverall}.

\begin{figure}[!htbp]
  \begin{center}
    \leavevmode
    \ifpdf
      \includegraphics[scale=0.45]{overall}
    \else
      \includegraphics[scale=0.45]{overall}
    \fi
    \caption[Mô hình tổng quan của một hệ thống truy vấn ảnh]{Mô hình tổng quan của một hệ thống truy vấn ảnh.}
    \label{FigOverall}
  \end{center}
\end{figure}

\section{Rút trích đặc trưng hình ảnh}

\subsection{Đặc trưng toàn cục}

\subsection{Đặc trưng cục bộ}
\label{local-features}

Trong lĩnh vực Thị giác Máy tính, một câu hỏi và cũng là một thách thức lớn đối với tất cả các nhà khoa học là làm sao biểu diễn được môt hình ảnh trên máy tính. Tùy theo từng mục đích cụ thể, người ta sẽ có các cách biểu diễn khác nhau. Trong truy vấn ảnh, một hình ảnh phải được biểu diễn dưới dạng sao cho bền vững trước những thay đổi như điều kiện chụp, tỉ lệ, góc chụp khác nhau hay thậm chí là những thay đổi lớn do đối tượng bị che khuất. Do sự tác động của các yếu tố này, cho dù hai hình ảnh chứa cùng một đối tượng thì vẫn có thể tồn tại một vùng hình ảnh lớn bên ngoài các đối tượng không đồng thời xuất hiện ở cả hai hình.

Để giải quyết vấn đề này, có một hướng tiếp cận phổ biến là rút trích những "chi tiết" cục bộ (local patches) trên tấm hình để biểu diễn cho hình ảnh đó. Hướng tiếp cận này được đưa ra dựa trên nhận định rằng hai hình ảnh tương tự nhau sẽ có rất nhiều những chi tiết cục bộ giống nhau và những chi tiết cục bộ này có thể được dùng để so khớp các hình ảnh với nhau. Các chi tiết này thường được rút trích bằng một trong hai phương pháp, đó là: (i) sử dụng một lưới dày đặc với nhiều mức tỉ lệ kích cỡ khác nhau (để đảm bảo bất biến về tỉ lệ) để chia hình ảnh thành nhiều chi tiết nhỏ, hoặc (ii) dùng các phương pháp dò tìm (detector) hay một kỹ thuật nào đó để lấy được các chi tiết đặc biệt (đặc trưng) trên vùng hình ảnh quan tâm và đồng thời loại bỏ những chi tiết không đảm bảo sự bất biến tỉ lệ ngay ở bước này. Có thể thấy rằng phương pháp dùng lưới để chia hình ảnh thành nhiều phần không thể áp dụng cho bài toán truy vấn ảnh với tập dữ liệu lớn vì ta cần rất nhiều không gian để lưu trữ một lượng lớn các chi tiết dày đặc với nhiều mức tỉ lệ kích cỡ khác nhau. Do vậy phương pháp biểu diễn hình ảnh bằng các đặc trưng được áp dụng cho bài toán này.

Có rất nhiều phương pháp dò tìm các điểm đặc trưng (feature detector) được đưa ra, trong đó phải kể tới các phương pháp được dùng phổ biến như Difference of Gaussians, DoG \cite{lowe2004distinctive}, Maximally Stable Extremal Regions, MSER \cite{matas2004robust} và affine invariant detector \cite{mikolajczyk2004scale}. Ngoài ra còn có các phương pháp dò tìm được xây dựng để tìm kiếm trong thời gian thực như SURF \cite{bay2006surf}, FAST \cite{rosten2010faster} và BRISK \cite{leutenegger2011brisk}.

Sau khi rút trích được các điểm đặc trưng cục bộ cho mỗi hình, dựa trên các đặc trưng đó ta sẽ quyết định xem liệu hai tấm hình bất kỳ có chứa cùng một đối tượng hay không. Để so sánh độ tương đồng của hai đặc trưng cục bộ, ta không thể dựa trên màu sắc và cường độ của chúng vì những yếu tố này không bền vững trước những thay đổi của hình ảnh. Do đó ta cần phải tìm cách lượng tử hóa độ tương đồng giữa cách đặc trưng để có thể đo được bằng các tính toán cụ thể. Trong công trình nghiên cứu nổi tiếng của Lowe \cite{lowe2004distinctive}, tác giả đã đề xuất một phương pháp để có thể tính toán được một bộ mô tả (descriptor) có tính phân loại cao và đảm bảo sự bất biến trước những thay đổi của hình ảnh, đó là SIFT descriptor. Theo sau công trình nghiên cứu này, nhiều công trình có hướng tiếp cận tương tự được đưa ra, trong đó bao gồm GLOH \cite{mikolajczyk2005performance}, SURF \cite{bay2006surf}, DAISY \cite{tola2008fast}, CONGAS \cite{zheng2009tour}, BRIEF \cite{calonder2010brief}. Đặc biệt, bằng việc đề xuất thuật toán RootSIFT được cải tiến từ SIFT, Arandjelovic và Zisserman \cite{arandjelovic2012three} đã nâng hiệu suất của phương pháp SIFT lên đáng kể. Đây cũng là phương pháp được chúng tôi chọn dùng trong hệ thống của mình.

Tóm lại, từ những bộ mô tả (descriptor) được rút trích từ tất cả các hình trong cơ sở dữ liệu và từ hình ảnh truy vấn, ta có thể tính toán được độ tương đồng giữa các hình ảnh. Tuy nhiên, hiệu suất của quá trình tính toán độ tương đồng bị giảm đi đáng kể khi thực hiện trên tập dữ liệu lớn. Trong phần tiếp theo, chúng tôi sẽ giới thiệu sơ lược về một mô hình giúp giải quyết được vấn đề này.

\section{Biểu diễn hình ảnh bằng mô hình Bag-of-words}
\label{bag-of-words}
Trong truy vấn hình ảnh, Bag-of-words (BoW) là mô hình biểu diễn hình ảnh được sử dụng phổ biến nhất hiện nay và đạt được những kết quả rất tốt, chẳng hạn như công trình cho kết quả tốt nhất hiện nay của Arandjelovic và Zisserman\cite{arandjelovic2012three} cũng sử dụng mô hình này. Hình \ref{FigBoWPreview} minh họa ý tưởng biểu diễn hình ảnh với mô hình BoW.

\begin{figure}[!htbp]
  \begin{center}
    \leavevmode
    \ifpdf
      \includegraphics[scale=0.32]{bow-preview}
    \else
      \includegraphics[scale=0.32]{bow-preview}
    \fi
    \caption[Biểu diễn hình ảnh bằng mô hình Bag-of-words]{Biểu diễn hình ảnh bằng mô hình Bag-of-words.}
    \label{FigBoWPreview}
  \end{center}
\end{figure}

Mô hình BoW được ứng dụng từ lĩnh vực xử lý văn bản, với ý tưởng biểu diễn một hình ảnh như một văn bản. Cụ thể hơn, BoW biểu diễn các đặc trưng cục bộ bằng các visual word, và từ những visual word sẽ xây dựng được một histogram biểu diễn hình ảnh đó. Như đã giới thiệu trong Mục \ref{local-features}, một hình ảnh có thể rút trích được các đặc trưng cục bộ, tuy nhiên các đặc trưng này lại hoàn toàn phân biệt với nhau, vậy làm thế nào để xây dựng được các visual word từ các đặc trưng này? Hình \ref{FigBoW} cho thấy các bước xử lý trong mô hình BoW.

\begin{figure}[!htbp]
  \begin{center}
    \leavevmode
    \ifpdf
      \includegraphics[scale=0.32]{bow}
    \else
      \includegraphics[scale=0.32]{bow}
    \fi
    \caption[Mô hình Bag-of-words]{Mô hình Bag-of-words.}
    \label{FigBoW}
  \end{center}
\end{figure}

Nghiên cứu của Sivic và Zisserman \cite{sivic2003video} là công trình đầu tiên ứng dụng hướng tiếp cận trong xử lý văn bản vào truy vấn ảnh\footnote{Mục đích của tác giả trong nghiên cứu này là truy vấn trên video nhưng ta hoàn toàn có thể chuyển sang bài toán truy vấn ảnh bằng cách rút trích các frame trong video theo từng giây}. Trong công trình này tác giả đã giới thiệu khái niệm visual word, được tạo ra bằng cách sử dụng thuật toán gom cụm K-Means để gom cụm các đặc trưng cục bộ. Hình \ref{FigVisualWords} cho thấy một vài ví dụ về các visual word. Tương tự như trong truy vấn văn bản, hình ảnh sẽ được rút trích các đặc trưng cục bộ rồi tiếm hành gom cụm các đặc trưng này sẽ thu được các visual word. Tập các visual word này được gọi là một bộ từ điển. Khi một hình ảnh được đưa vào từ điển, mỗi đặc trưng của nó sẽ được đánh chỉ số theo visual word có khoảng cách gần nhất với đặc trưng đó.

\begin{figure}[!htbp]
  \begin{center}
    \leavevmode
    \ifpdf
      \includegraphics[scale=0.32]{visualWords}
    \else
      \includegraphics[scale=0.32]{visualWords}
    \fi
    \caption[Các từ visual word]{\textbf{Các visual word.} Mỗi nhóm là một nhóm các đặc trưng cục bộ được rút trích từ hình ảnh, gom vào cùng một cụm và cùng được biểu diễn bằng một visual word. Hình ảnh được lấy từ bài báo \cite{sivic2009efficient}.}
    \label{FigVisualWords}
  \end{center}
\end{figure}

Thí nghiệm trong công trình của của Sivic và Zisserman \cite{sivic2003video} được tiến hành trên 4000 ảnh (frame) được lấy từ video, sử dụng 10,000 visual word được gom cụm từ các đặc trưng cục bộ của các hình ảnh đó.Trong thực tế, để truy vấn ảnh trên những tập dữ liệu lớn, để cho kết quả tốt thì số lượng visual word không thể vào khoảng 10,000 từ mà phải lên tới hàng triệu từ\cite{philbin2007object}. Trong khi đó, độ phức tạp của thuật toán K-Means là \textit{O(N\textsubscript{w}N\textsubscript{d})} với N\textsubscript{w}, N\textsubscript{d} lần lượt là kích cỡ của visual word và số tập của bộ mô tả huấn luyện (training descriptor set). Trên những tập dữ liệu lớn thì N\textsubscript{d} $\geq$ N\textsubscript{w} nên độ phức tạp luôn lớn hơn $O(N^2_w)$. Do đó nếu dùng K-Means cho bài toán này chi phí tính tính toán sẽ vô cùng lớn. Nister và Stewenius \cite{nister2006scalable} đã đề xuất phương pháp giải quyết cho bài toán này bằng cách xây dựng một cây từ vựng mà về bản chất thì nó chính là thuật toán Hierarchical K-Means (HKM). Để minh họa cho thuật toán này, tác giả đã cho thử nghiệm trên bộ ảnh gồm 1 triệu hình ảnh. Không lâu sau đó, Philbin và các đồng nghiệp \cite{philbin2007object} đã đề xuất một hướng tiếp cận khác dựa trên thuật toán \textit{xấp xỉ K-Means}, Approximate K-Means (AKM). Tác giả cũng cho chạy thử nghiệm AKM trên 16.7 triệu đặc trưng để gom cụm thành 1 triệu từ. Các thí nghiệm cho thấy rằng, khi so sánh AKM với K-Means thì về độ chính xác thì AKM xấp xỉ K-Means tuy nhiên chi phí tính toán chỉ bằng một phần nhỏ của K-Means. Còn khi so sánh AKM với HKM thì AKM không những vượt xa về độ chính xác mà còn có thể áp dụng cho những tập dữ liệu lớn. Chi phí tính toán của cả HKM và AKM đều là $O(N_d log(N_w))$.

\section{So khớp hình ảnh}
\label{matching}
Quá trình so khớp hình ảnh phụ thuộc phần lớn vào việc hình ảnh đã được biểu diễn như thế nào. Với mô mình BoW như đã trình bày tại Mục \ref{bag-of-words}, mỗi hình ảnh sẽ trở thành một histogram, khoảng cách giữa các histogram này thể hiện độ tương tự giữa các hình ảnh. Thêm vào đó, các histogram này cần được đánh trọng số thích hợp để tăng độ chính xác truy vân. Cũng giống như mô hình BoW trong xử lý văn bản, \textit{tf-idf}\cite{manning2008introduction} là phương pháp tiêu chuẩn để đánh trọng số. \textit{Tf-idf} trong xử lý văn bản được định nghĩa như sau:

Giả sử với bộ từ điển gồm \textit{k} từ, mỗi từ sẽ được biểu diễn bằng một véc tơ k chiều $V_i = (t_1, t_2, ..., t_i, ..., t_k)^T$, với 

$t_i = (n_id/n_d)log()N/n_i$,

trong đó, $n_id$ là số lần xuất hiện của từ $i$ trong văn bản $d$, $n_d$ là tổng số từ trong văn bản $d$, $n_i$ là số lần xuất hiện của từ $i$ trong toàn bộ từ điển và $N$ là tổng số văn bản trong từ điển. Phương pháp đánh trọng số này gồm hai thành phần chính là \textit{tf} (viết tắt của \textit{term frequency}) là tần số xuất hiện của từ trong văn bản ($n_id/n_d$) thể hiện mức độ quan trọng của từ đó trong văn bản và \textit{idf} (viết tắt của \textit{inverse document frequency}) thể hiện mức độ ảnh hưởng của từ đó tới toàn bộ dữ liệu. Một từ có thể có mức độ quan trọng cao nếu nó xuất hiện nhiều lần trong một văn bản, nhưng nếu nó xuất hiện trong hầu hết các văn bản thì nó lại không có ý nghĩa nhiều để phân loại hoặc so sánh các văn bản với nhau.

Trong truy vấn và phân loại hình ảnh sử dụng mô hình BoW, tf-idf được sử dụng tương tự như trên để đánh trọng số cho các histogram biểu diễn hình ảnh, với các từ là các visual word và các văn bản là các hình ảnh. Sau đó, khoảng cách giữa các histogram được tính bằng một trong các độ đo phổ biến: $L_1$ distance(cite: Eugene F. Krause (1987). Taxicab Geometry. Dover. ISBN 0-486-25202-7), Euclidean distance ($L_2$) (cite: Elena Deza & Michel Marie Deza (2009) Encyclopedia of Distances, page 94, Springer.) và histogram intersection (HI) (cite: MAMMOGRAPHIC IMAGE CLASSIFICATION USING HISTOGRAM INTERSECTION).

\textbf{L1 distance}

L1 distance là độ đo khoảng cách cơ bản giữa hai véc tơ. Khoảng cách \textit{d} giữa hai véc tơ \textbf{p}, \textbf{q} được tính như sau:

$d(p,q) = d(q,p) = ||p-q|| = \sum\limits_{i=1}^n |p_i - q_i|,$

Trong đó (p,q) là các véc tơ $p = (p1_1, p_2, p_3, ..., p_n)$ và $q = (q_1, q_2, q_3, ..., q_n)$

\textbf{L2 distance}

L2 distance là độ đo khoảng cách được sử dụng khá phổ biến và cho kết quả tốt trong nhiều trường hợp, được tính như sau:

$d(p,q) = d(q,p) = \sqrt{(q_1-p_1)^2 + (q_2-p_2)^2 + ... + (q_n-p_n)^2} = \sqrt{\sum\limits{i=1}^n (q_i - p_i)^2}$,

trong đó $p$, $q$ là các véc $n$ chiều, $p = (p_1, p_2, ..., p_n)$ và $q = (q_1, q_2, ..., q_n)$, $d(p,q)$ là khoảng cách giữa $p$ và $q$.

\textbf{Histogram Intersection}

Được đưa ra năm 2010 bởi Erkang Cheng và các đồng nghiệp(cite: MAMMOGRAPHIC IMAGE CLASSIFICATION USING HISTOGRAM INTERSECTION), histogram intersection (HI) cũng thể hiện được hiệu quả của nó trong những trường hợp nhất định. Giá trị $S_HI$ thể hiện mức độ tương đồng giữa hai histogram $h_1$ và $h_2$ được định nghĩa như sau:

$S_HI(h_1, h_2) = \sum\limits{i = 1}^n	min(h-1(i), h_2(i))$

Tác giả cũng đưa phương pháp Normalized HI (NHI):

$S_NHI(h_1, h_2) = \sum\limits{i = 1}^n	(min(h-1(i), h_2(i))/h_1(i) + h_2(i))$

cũng cho kết quả khả quan trong một số trường hợp khác.

Với ba độ đo trên ta có thể thấy, $L1$ và $L2$ thể hiện cả mức độ giống nhau và khác nhau giữa hai histogram, trong khi đó histogram intersection quan tâm chủ yếu tới mức độ giống nhau giữa hai histogram.
Việc sử dụng độ đo nào cho thích hợp tùy thuộc vào các trường hợp cụ thể, và nó còn liên quan tới nhiều vấn đề khác như kích thước từ điển ảnh hưởng tới kích thước mỗi histogram, mức độ thưa hay nhiễu của các histogram...

Trong truy vấn hình ảnh, quá trình so khớp được sử dụng khi có một hình truy vấn được đưa vào, nó sẽ được so khớp với các hình trong bộ dữ liệu. Để tăng tốc quá trình truy vấn, phương pháp chỉ mục ngược (inverted index) được sử dụng phổ biến và cho thấy hiệu quả cao giúp cải thiện hiệu suất truy vấn.

\section{Sử dụng thông tin về sự phân bố trong không gian ảnh của các đặc trưng}
\label{spatial}

Mặc dù đạt được những kết quả rất đáng chú ý nhưng mô hình BoW cơ bản vẫn bị giới hạn về độ chính xác do bỏ qua một thông tin quan trọng, đó là sự phân bố về không gian của các visual word. Do đó các đặc trưng cục bộ được xử lý một cách rời rạc, không liên quan tới nhau. Hình \ref{FigLimited} minh họa cho trường hợp các ảnh khác nhau được biểu diễn như nhau nếu không xem xét sự phân bố về không gian của các visual word.
\begin{figure}[!htbp]
  \begin{center}
    \leavevmode
    \ifpdf
      \includegraphics[scale=0.25]{limited}
    \else
      \includegraphics[scale=0.25]{limited}
    \fi
    \caption[Bỏ qua thông tin về sự phân bố trong không gian của các visual word trong mô hình BoW]{\textbf{Bỏ qua thông tin về sự phân bố trong không gian của các visual word trong mô hình BoW.} Sau khi được biểu diễn bằng mô hình BoW, hai hình ảnh trên được coi như giống nhau hoàn toàn trong khi chúng khác nhau do các visual word nằm ở các vị trí khác nhau.}
    \label{FigLimited}
  \end{center}
\end{figure}

Để giải quyết vấn đề trên, rất nhiều công trình nghiên cứu đã được đưa ra. Phần lớn các hướng tiếp cận được chia ra làm hai dạng là tiếp cận dựa trên đặc trưng hình học và tiếp cận dựa trên thông tin không gian của các điểm đặc trưng cục bộ. Trong mục \ref{geometry} chúng tôi sẽ trình bày về các phương pháp dựa trên đặc trưng hình học. Hướng tiếp cận còn lại sẽ được trình bày chi tiết trong mục \ref{spm}.

\subsection{Các hướng tiếp cận dựa trên đặc trưng hình học}
\label{geometry}
Các phương pháp sử dụng đặc trưng hình học để so khớp thường được dùng ở bước hậu xử lý để nhận dạng hình học. Dưới đây là một vài công trình tiêu biểu sử dụng hướng tiếp cận này.

Sivic và Zisserman \cite{sivic2003video} đã đo đạc sự nhất quán không gian cục bộ (local spatial consistency) trong các so khớp giữa hình ảnh truy vấn và từng hình ảnh trong cơ sở dữ liệu từ đó tái xếp hạng lại danh sách kết quả trả về. Việc đo đạc sự nhất quán không gian cục bộ trong so khớp hình ảnh cũng được đề cập tới trước đó trong các công trình như \cite{zhang1995robust} và \cite{schmid1997local}.

Trong một công trình nghiên cứu \cite{philbin2007object}, tác giả sử dụng thuật toán RANSAC \cite{fischler1981random} để kiểm tra sự nhất quán hình học giữa các đặc trưng cục bộ trùng khớp. RANSAC là một trong những phương pháp phổ biến nhất cho hậu xử lý toàn cục trên hình ảnh. Đặc biệt, trong một công trình khác, Zhang và các đồng nghiệp \cite{zhang2011image} đề xuất mã hóa thông tin không gian ảnh qua các mệnh đề trực quan hình học (GVP) kết hợp với RANSAC đã cho kết quả rất đáng chú ý với bộ dữ liệu lên tới hàng triệu ảnh.

Trong khi đó, công trình \cite{lin2010local} và \cite{lampert2009detecting} lại xếp hạng các hình ảnh dựa trên điểm số so khớp của hình ảnh truy vấn với những cửa sổ con được định vị trên hình. Phương pháp này mã hóa được nhiều thông tin không gian ảnh hơn so với mô hình BoW trên toàn bộ tấm hình và giúp định vị hình ảnh truy vấn.

Nhìn chung, những phương pháp sử dụng hướng tiếp cận hình học đều cho kết quả tốt. Tuy nhiên, khi vùng truy vấn lớn hơn thì chúng chỉ được dùng để tái xếp hạng một số lượng giới hạn ở các hình ảnh ở top đầu của kết quả trả về vì vấn đề về chi phí cho bộ nhớ và tốc độ thực hiện.

\subsection{Các hướng tiếp cận dựa trên thông tin không gian của các điểm đặc trưng cục bộ}
\label{spm}

Hướng tiếp cận dựa trên đặc trưng hình học là hướng tiếp cận mang tính toàn cục, tức là xem xét đối tượng dưới một cái nhìn tổng quan, toàn thể chứ không xem xét chi tiết những thành phần cấu thành nó. Hướng tiếp cận dựa trên các đặc trưng cục bộ lại ngược lại, xem đối tượng là một tập hợp của nhiều thành phần và dựa trên những thành phần đó để xác định đối tượng. Lazebnik \cite{lazebnik2006beyond} đã giới thiệu một phương pháp nền tảng, được bắt nguồn từ ý tưởng \textit{so khớp phân cấp} (pyramid matching) của Grauman và Darrell \cite{grauman2005pyramid}, đó là phương pháp \textit{so khớp không gian phân cấp} (Spatial Pyramid Matching - SPM). Ý tưởng của phương pháp này là lặp đi lặp lại việc chia nhỏ hình ảnh và tính toán biểu đồ của các đặc trưng cục bộ với mức độ chi tiết tăng dần. SPM đã giúp nâng cao một cách đáng kể độ chính xác cho mô hình BoW và tỏ ra là một phương pháp đơn giản nhưng hiệu quả. Mặc dù vậy, SPM cũng làm tăng thời gian thực hiện truy vấn bởi khi mức độ chi tiết càng cao thì kích cỡ biểu đồ của các đặc trưng cục bộ cũng tăng theo làm tăng chi phí tính toán trong quá trình so khớp, vì vậy SPM vẫn chưa thích hợp cho các bài toán yêu cầu thời gian thực.

\begin{figure}[!htbp]
  \begin{center}
    \leavevmode
    \ifpdf
      \includegraphics[scale=0.32]{bow-preview}
    \else
      \includegraphics[scale=0.32]{bow-preview}
    \fi
    \caption[Phương pháp Spatial Pyramid Matching]{Phương pháp Spatial Pyramid Matching.}
    \label{FigSPM}
  \end{center}
\end{figure}

\section{Kết chương}

Việc biểu diễn hình ảnh bằng các đặc trưng cục bộ đã đặt nền tảng cho việc đưa ra các phương pháp để truy vấn đối tượng trên ảnh. Mô hình BoW đã chứng minh tính hiệu quả của mình trong truy vấn ảnh và việc kết hợp phương pháp chỉ mục ngược (inverted index) giúp giảm đáng kể thời gian thực hiện truy vấn. Tuy nhiên, mô hình BoW vẫn bị giới hạn về độ chính xác do bỏ qua thông tin không gian ảnh. Trong khi đó, rất nhiều hướng tiếp cận khác tận dụng được thông tin này đã nâng độ chính xác truy vấn nhưng lại cần chi phí tính toán cao, tốc độ phản hồi chậm.

Vì vậy, với những hạn chế trên, chúng tôi đề xuất một phương pháp tập trung vào việc cân bằng độ chính xác truy vấn và tốc độ phản hồi. 